\*\*ğŸŒ± åŸºäº Vue3 å…¨å®¶æ¡¶ã€TS/JSã€Vite æ„å»ºçš„å¤šé¡µé¢é¡¹ç›®

- [x] âš¡ Vue3 + Vite4
- [x] ğŸ• TypeScript
- [x] âœ¨ Vant4
- [x] ğŸ Pinia
- [x] Vue-router 4
- [x] æ”¯æŒ SVG å›¾æ ‡è‡ªåŠ¨æ³¨å†Œç»„ä»¶
- [x] Axios
- [x] æ‰“åŒ…èµ„æº gzip å‹ç¼©
- [x] å¼€å‘ç¯å¢ƒ Mock æ•°æ®
- [x] ESLint
- [x] å¼€å‘ç¯å¢ƒè°ƒè¯•é¢æ¿

### ç›®å½•è¯´æ˜

```
.
â”œâ”€â”€ config-vite               # Vite æ„å»ºã€æœåŠ¡ã€ä»£ç†ç­‰é…ç½®
â”œâ”€â”€ dist                      # æ„å»ºäº§ç‰©ï¼‰
â”œâ”€â”€ jsconfig.json             # js è·¯å¾„åˆ«åç­‰é…ç½®
â”œâ”€â”€ mock                      # æœ¬åœ° mockæœåŠ¡(æš‚æœªä½¿ç”¨)
â”œâ”€â”€ package.json              # ä¾èµ–
â”œâ”€â”€ src                       # æºä»£ç ä¸»ç›®å½•
â”‚   â”œâ”€â”€ assets                # é™æ€èµ„æºï¼ˆå›¾ç‰‡ã€å­—ä½“ç­‰ï¼‰
â”‚   â”œâ”€â”€ components            # å…¨å±€æˆ–é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ directives            # è‡ªå®šä¹‰æŒ‡ä»¤
â”‚   â”œâ”€â”€ env.d.ts              # TypeScript ç¯å¢ƒç±»å‹å£°æ˜
â”‚   â”œâ”€â”€ frame                 # æ¡†æ¶åŸºç¡€ç»„ä»¶å’Œå…¨å±€çŠ¶æ€ï¼ˆæ”¹åŠ¨éœ€è°¨æ…ï¼‰
â”‚   â”‚   â”œâ”€â”€ BaseLayout        # é¡µé¢æ¡†æ¶å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseHeader.vue# Header ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ index.vue     # é¡µé¢æ•´ä½“å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ baseStore.js      # å…¨å±€åŸºç¡€é€šç”¨çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰
â”‚   â”‚   â”œâ”€â”€ useCachedViewStore.js # åŸºç¡€é€šç”¨è·¯ç”±ç¼“å­˜Storeï¼ˆkeep-alive ç®¡ç†ï¼‰
â”‚   â”‚   â””â”€â”€ useInitApp.js     # åº”ç”¨åˆå§‹åŒ–é€»è¾‘ï¼ˆå¦‚æƒé™ã€é…ç½®åŠ è½½ç­‰ï¼‰
â”‚   â”œâ”€â”€ hooks                 # å…¬å…±è‡ªå®šä¹‰hooks
â”‚   â”œâ”€â”€ pages                 # å¤šé¡µé¢åº”ç”¨ï¼ˆMPAï¼‰ç»“æ„ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹ä¸€ä¸ªé¡µé¢åº”ç”¨
â”‚   â”‚   â””â”€â”€ task-center       # ä»»åŠ¡ä¸­å¿ƒæ¨¡å—
â”‚   â”‚       â”œâ”€â”€ App.vue       # å…¥å£ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ index.html    # HTML
â”‚   â”‚       â”œâ”€â”€ main.js       # å…¥å£
â”‚   â”‚       â”œâ”€â”€ router        # è·¯ç”±é…ç½®
â”‚   â”‚       â”‚   â”œâ”€â”€ index.js
â”‚   â”‚       â”‚   â””â”€â”€ routes.js
â”‚   â”‚       â”œâ”€â”€ store         # Pinia Store
â”‚   â”‚       â”‚   â””â”€â”€ app.js
â”‚   â”‚       â””â”€â”€ views         # è§†å›¾
â”‚   â”‚           â”œâ”€â”€ home
â”‚   â”‚           â”‚   â””â”€â”€ index.vue
â”‚   â”‚           â”œâ”€â”€ page1
â”‚   â”‚           â”‚   â””â”€â”€ index.vue
â”‚   â”‚           â””â”€â”€ page2
â”‚   â”‚               â””â”€â”€ index.vue
â”‚   â”œâ”€â”€ public                # é™æ€èµ„æºç›®å½•
â”‚   â”œâ”€â”€ service               # API è°ƒç”¨é€»è¾‘å’Œæ¥å£æœåŠ¡å°è£…
â”‚   â”‚   â”œâ”€â”€ api               # å…¬å…±æ¨¡å—æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ login
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.js  # ç™»å½•
â”‚   â”‚   â”œâ”€â”€ auth.js           # tokenå­˜å–
â”‚   â”‚   â”œâ”€â”€ encryption.js     # åŠ å¯†æ–¹æ³•
â”‚   â”‚   â”œâ”€â”€ enums             # è¯·æ±‚æšä¸¾å¸¸é‡
â”‚   â”‚   â”‚   â””â”€â”€ requestEnum.js
â”‚   â”‚   â”œâ”€â”€ http              # axios
â”‚   â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚   â””â”€â”€ refreshToken.js   # token ç»­æœŸ
â”‚   â””â”€â”€ utils                 # å·¥å…·åŒ…
â”‚       â”œâ”€â”€ debug.js          # è°ƒè¯•å·¥å…·
â”‚       â”œâ”€â”€ formatter.js      # æ ¼å¼åŒ–å‡½æ•°
â”‚       â”œâ”€â”€ native.js         # å®¢æˆ·ç«¯äº¤äº’ç›¸å…³å°è£…
â”‚       â”œâ”€â”€ others.js         # å…¶ä»–æ‚é¡¹å·¥å…·
â”‚       â””â”€â”€ url.js            # URL å¤„ç†å·¥å…·
â”œâ”€â”€ tsconfig.json             # TypeScript ç¼–è¯‘å™¨é…ç½®
â””â”€â”€ vite.config.mjs           # Vite é…ç½®ï¼ˆESMï¼‰
```

## è¿è¡Œé¡¹ç›®

æ³¨æ„ï¼šè¦æ±‚ Node ç‰ˆæœ¬ 16+ï¼Œå¯ä½¿ç”¨ [nvm](https://github.com/nvm-sh/nvm#installing-and-updating) è¿›è¡Œæœ¬åœ° Node ç‰ˆæœ¬ç®¡ç†ï¼ŒåŒæ—¶å»ºè®®ä½¿ç”¨ [pnpm](https://pnpm.io/zh/installation) åŒ…ç®¡ç†å™¨ã€‚

```shell
# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨æœåŠ¡
pnpm dev

# æµ‹è¯•ç¯å¢ƒæ„å»º
pnpm test

# ç”Ÿäº§ç¯å¢ƒæ„å»º
pnpm build
```

### - <span id="vant">æŒ‰éœ€å¼•å…¥ vant ç»„ä»¶</span>

ä½¿ç”¨ `unplugin-vue-components` æ’ä»¶è¿›è¡ŒæŒ‰éœ€è‡ªåŠ¨å¼•å…¥ç»„ä»¶ï¼Œå¯é€šè¿‡[å®˜æ–¹æ–‡æ¡£](https://vant-ui.github.io/vant/#/zh-CN/quickstart#2.-pei-zhi-cha-jian)äº†è§£æ›´å¤šã€‚

### - <span id="svg">SVG å›¾æ ‡ä½¿ç”¨</span>

> 1. å°† svg å›¾æ ‡æ–‡ä»¶æ”¾åœ¨ `src/icons/svg` ç›®å½•ä¸‹
> 2. åœ¨é¡¹ç›®ä¸­ç›´æ¥ä½¿ç”¨ `<svg-icon name="svgå›¾æ ‡æ–‡ä»¶å‘½å" />` å³å¯

ä¾‹å¦‚ï¼š

æœ¬é¡¹ç›® `src/icons/svg` ä¸­æ”¾äº†ä¸ªå« `check-in.svg` çš„å›¾æ ‡æ–‡ä»¶ï¼Œç„¶ååœ¨ç»„ä»¶ `name` å±æ€§ä¸­å¡«å…¥æ–‡ä»¶çš„å‘½åå³å¯

```Vue
<svg-icon name="check-in" />
```

> é¡¹ç›®ä¸­ä½¿ç”¨äº† `unplugin-vue-components` è‡ªåŠ¨å¼•å…¥ç»„ä»¶ï¼Œæ‰€ä»¥ `main.ts` ä¸­æ— éœ€æ³¨å†Œå…¨å±€å›¾æ ‡ç»„ä»¶ã€‚

### - <span id="router">è·¯ç”±ç¼“å­˜ & å‘½åæ³¨æ„ âš </span>

ç»„ä»¶é»˜è®¤å¼€å¯ç¼“å­˜ï¼Œå¦‚æŸä¸ªç»„ä»¶éœ€å…³é—­ç¼“å­˜ï¼Œåœ¨å¯¹åº”è·¯ç”± `meta` å†…çš„ `noCache` å­—æ®µèµ‹å€¼ä¸º `true` å³å¯ã€‚

```typescript
// src/router/routes.js
const routes: Array<RouteRecordRaw> = [
  // ...
  {
    path: 'about',
    name: 'About',
    component: () => import('@/views/about/index.vue'),
    meta: {
      title: 'å…³äº',
      noCache: true,
    },
  },
];
```

ä¸ºäº†ä¿è¯é¡µé¢èƒ½è¢«æ­£ç¡®ç¼“å­˜ï¼Œè¯·ç¡®ä¿**ç»„ä»¶**çš„ `name` å€¼å’Œå¯¹åº”è·¯ç”±çš„ `name` å‘½åå®Œå…¨ç›¸åŒã€‚

```vue
<!-- src/views/about/index.vue -->
<script setup lang="ts" name="About">
// ä½¿ç”¨äº† `vite-plugin-vue-setup-extend` æ’ä»¶ï¼Œå¯åœ¨ `setup` è¯­æ³•ç³–æ ‡ç­¾ä¸Šæ·»åŠ  `name` å±æ€§ä¸ºç»„ä»¶å‘½å
</script>

<template>
  <div>about</div>
</template>
```

### - <span id="page-title">åŠ¨æ€è®¾ç½®é¡µé¢æ ‡é¢˜</span>

åœ¨è·¯ç”±å…¨å±€å‰ç½®å®ˆå«ä¸­ï¼š

```js
// src/router/index.ts
// ...
router.beforeEach((to: toRouteType, from, next) => {
  // ...
  // é¡µé¢ title
  window.document.title = 'xxx';
  next();
});
```

### - <span id="mock">å¼€å‘ç¯å¢ƒ Mock</span>

> æœ¬é¡¹ç›®å¼€å‘ç¯å¢ƒæ”¯æŒ mock è¯·æ±‚æ•°æ®ï¼Œåœ¨ `mock` ç›®å½•ä¸­å¯é…ç½®æ¥å£å’Œæ•°æ®ï¼Œå…·ä½“è§[æ–‡æ¡£](https://github.com/pengzhanbo/vite-plugin-mock-dev-server/blob/main/README.zh-CN.md)ã€‚

### Git æäº¤è§„åˆ™

```
å…·ä½“è§[æ–‡æ¡£](https://github.com/conventional-changelog/commitlint/#what-is-commitlint)ã€‚
eg:
feat(optional): adds ability to parse arrays

featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰
choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰
fixï¼šä¿®è¡¥bug
revert: å›é€€ç‰ˆæœ¬
perfï¼šæ€§èƒ½
styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰
refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰
testï¼šå¢åŠ æµ‹è¯•
choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

1ã€æ¯ä¸ªæäº¤éƒ½å¿…é¡»ä½¿ç”¨ç±»å‹å­—æ®µå‰ç¼€ï¼Œå®ƒç”±ä¸€ä¸ªåè¯ç»„æˆï¼Œå¦‚featï¼Œå…¶åæ¥ä¸€ä¸ªå¯é€‰çš„ä½œç”¨åŸŸå­—æ®µï¼Œä»¥åŠä¸€ä¸ªå¿…è¦çš„å†’å·ï¼ˆè‹±æ–‡åŠè§’ï¼‰å’Œç©ºæ ¼ã€‚
2ã€å½“ä¸€ä¸ªæäº¤ä¸ºåº”ç”¨æˆ–ç±»åº“å®ç°äº†æ–°ç‰¹æ€§æ—¶ï¼Œå¿…é¡»ä½¿ç”¨featç±»å‹
3ã€å½“ä¸€ä¸ªæäº¤ä¸ºåº”ç”¨ä¿®å¤ bug æ—¶ï¼Œå¿…é¡»ä½¿ç”¨fixç±»å‹
4ã€ä½œç”¨åŸŸå­—æ®µå¯ä»¥è·Ÿéšåœ¨ç±»å‹å­—æ®µåé¢ã€‚ä½œç”¨æœ‰å¿…é¡»æ˜¯ä¸€ä¸ªæè¿°æŸéƒ¨åˆ†ä»£ç çš„åè¯ï¼Œå¹¶ç”¨åœ†æ‹¬å·åŒ…å›´ï¼Œä¾‹å¦‚ï¼šfix(parser):
5ã€æè¿°å­—æ®µåœ¨ç±»å‹/ä½œç”¨åŸŸå‰ç¼€çš„ç©ºæ ¼ä¹‹å

```
